Собственно, вопрос в том, когда все эти defer отработают
А отработают они только после return - т.е. на каждой итерации в цикле они запускаться не будут 
Они просто скопятся и потом обработаются рантаймом 